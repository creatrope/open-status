<script>
  async function toggle() {
    const resultElement = document.getElementById("result");
    try {
      const res = await fetch("/.netlify/functions/toggle-status", { method: "POST" });
      if (!res.ok) throw new Error("Network response was not OK");
      const data = await res.json();
      resultElement.innerText = "✅ Status toggled:\n" + JSON.stringify(data, null, 2);
    } catch (err) {
      resultElement.innerText = "❌ Error toggling status:\n" + err.message;
    }
  }
</script>
